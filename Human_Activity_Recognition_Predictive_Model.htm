<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<title>Human Activity Recognition Predictive Model</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
h1
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#345A8A;}
h2
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h3
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h4
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;}
h5
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:normal;
	font-style:italic;}
h6
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri","sans-serif";
	color:#4F81BD;
	font-weight:normal;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-link:"Caption Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri","sans-serif";
	color:#345A8A;
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:9.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:15.0pt;
	font-family:"Calibri","sans-serif";
	color:#345A8A;
	font-weight:bold;}
p.MsoDate, li.MsoDate, div.MsoDate
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoBlockText, li.MsoBlockText, div.MsoBlockText
	{margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{color:#4F81BD;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoBibliography, li.MsoBibliography, div.MsoBibliography
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";
	color:#365F91;}
p.FirstParagraph, li.FirstParagraph, div.FirstParagraph
	{mso-style-name:"First Paragraph";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:9.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.Compact, li.Compact, div.Compact
	{mso-style-name:Compact;
	margin-top:1.8pt;
	margin-right:0in;
	margin-bottom:1.8pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.Author, li.Author, div.Author
	{mso-style-name:Author;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.Abstract, li.Abstract, div.Abstract
	{mso-style-name:Abstract;
	margin-top:15.0pt;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";}
p.DefinitionTerm, li.DefinitionTerm, div.DefinitionTerm
	{mso-style-name:"Definition Term";
	margin:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-weight:bold;}
p.Definition, li.Definition, div.Definition
	{mso-style-name:Definition;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.TableCaption, li.TableCaption, div.TableCaption
	{mso-style-name:"Table Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
p.ImageCaption, li.ImageCaption, div.ImageCaption
	{mso-style-name:"Image Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	font-style:italic;}
p.Figure, li.Figure, div.Figure
	{mso-style-name:Figure;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
p.FigurewithCaption, li.FigurewithCaption, div.FigurewithCaption
	{mso-style-name:"Figure with Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
span.CaptionChar
	{mso-style-name:"Caption Char";
	mso-style-link:Caption;}
span.VerbatimChar
	{mso-style-name:"Verbatim Char";
	mso-style-link:"Source Code";
	font-family:Consolas;}
p.SourceCode, li.SourceCode, div.SourceCode
	{mso-style-name:"Source Code";
	mso-style-link:"Verbatim Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#F8F8F8;
	word-break:break-all;
	font-size:12.0pt;
	font-family:"Cambria","serif";}
span.KeywordTok
	{mso-style-name:KeywordTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;
	font-weight:bold;}
span.DataTypeTok
	{mso-style-name:DataTypeTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;}
span.DecValTok
	{mso-style-name:DecValTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.BaseNTok
	{mso-style-name:BaseNTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.FloatTok
	{mso-style-name:FloatTok;
	font-family:Consolas;
	color:#0000CF;
	background:#F8F8F8;}
span.ConstantTok
	{mso-style-name:ConstantTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.CharTok
	{mso-style-name:CharTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.SpecialCharTok
	{mso-style-name:SpecialCharTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.StringTok
	{mso-style-name:StringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.VerbatimStringTok
	{mso-style-name:VerbatimStringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.SpecialStringTok
	{mso-style-name:SpecialStringTok;
	font-family:Consolas;
	color:#4E9A06;
	background:#F8F8F8;}
span.ImportTok
	{mso-style-name:ImportTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.CommentTok
	{mso-style-name:CommentTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-style:italic;}
span.DocumentationTok
	{mso-style-name:DocumentationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.AnnotationTok
	{mso-style-name:AnnotationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.CommentVarTok
	{mso-style-name:CommentVarTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.OtherTok
	{mso-style-name:OtherTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;}
span.FunctionTok
	{mso-style-name:FunctionTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.VariableTok
	{mso-style-name:VariableTok;
	font-family:Consolas;
	color:black;
	background:#F8F8F8;}
span.ControlFlowTok
	{mso-style-name:ControlFlowTok;
	font-family:Consolas;
	color:#204A87;
	background:#F8F8F8;
	font-weight:bold;}
span.OperatorTok
	{mso-style-name:OperatorTok;
	font-family:Consolas;
	color:#CE5C00;
	background:#F8F8F8;
	font-weight:bold;}
span.BuiltInTok
	{mso-style-name:BuiltInTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.ExtensionTok
	{mso-style-name:ExtensionTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.PreprocessorTok
	{mso-style-name:PreprocessorTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-style:italic;}
span.AttributeTok
	{mso-style-name:AttributeTok;
	font-family:Consolas;
	color:#C4A000;
	background:#F8F8F8;}
span.RegionMarkerTok
	{mso-style-name:RegionMarkerTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.InformationTok
	{mso-style-name:InformationTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.WarningTok
	{mso-style-name:WarningTok;
	font-family:Consolas;
	color:#8F5902;
	background:#F8F8F8;
	font-weight:bold;
	font-style:italic;}
span.AlertTok
	{mso-style-name:AlertTok;
	font-family:Consolas;
	color:#EF2929;
	background:#F8F8F8;}
span.ErrorTok
	{mso-style-name:ErrorTok;
	font-family:Consolas;
	color:#A40000;
	background:#F8F8F8;
	font-weight:bold;}
span.NormalTok
	{mso-style-name:NormalTok;
	font-family:Consolas;
	background:#F8F8F8;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Cambria","serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#4F81BD" vlink=purple>

<div class=WordSection1>

<p class=MsoTitle>Human Activity Recognition Predictive Model</p>

<p class=Author>D Ritchie</p>

<p class=MsoDate>May 21, 2016</p>

<p class=FirstParagraph><b><span style='font-size:18.0pt'>Human Activity
Recognition</span></b></p>

<p class=MsoBodyText>Human Activity Recognition - HAR - has emerged as a key
research area in the last years and is gaining increasing attention by the
pervasive computing research community, especially for the development of
context-aware systems. There are many potential applications for HAR, like:
elderly monitoring, life log systems for monitoring energy expenditure and for
supporting weight-loss programs, and digital assistants for weight lifting
exercises. The data for this project come from this source: <a
href="http://groupware.les.inf.puc-rio.br/har">http://groupware.les.inf.puc-rio.br/har</a>.
They have been very generous in allowing their data to be used for this kind of
assignment.</p>

<p class=MsoBodyText>Using devices such as Jawbone Up, Nike FuelBand, and
Fitbit it is now possible to collect a large amount of data about personal
activity relatively inexpensively. These type of devices are part of the
quantified self movement - a group of enthusiasts who take measurements about
themselves regularly to improve their health, to find patterns in their
behavior, or because they are tech geeks. One thing that people regularly do is
quantify how much of a particular activity they do, but they rarely quantify
how well they do it.</p>

<p class=MsoBodyText><b><span style='font-size:18.0pt'>Weight Lifting Exercises
Dataset</span></b></p>

<p class=MsoBodyText>Human activity recognition research has traditionally
focused on discriminating between different activities, i.e. to predict
&quot;which&quot; activity was performed at a specific point in time. The
approach they proposed for the Weight Lifting Exercises dataset was to
investigate &quot;how (well)&quot; an activity was performed by the wearer.</p>

<p class=MsoBodyText>In this work they first define quality of execution and
investigate three aspects that pertain to qualitative activity recognition: the
problem of specifying correct execution, the automatic and robust detection of
execution mistakes, and how to provide feedback on the quality of execution to
the user. They tried out an on-body sensing approach, but also an &quot;ambient
sensing approach&quot; (by using Microsoft Kinect - dataset still unavailable).</p>

<p class=MsoBodyText>Six young health participants were asked to perform one
set of 10 repetitions of the Unilateral Dumbbell Biceps Curl in five different
fashions: exactly according to the specification (Class A), throwing the elbows
to the front (Class B), lifting the dumbbell only halfway (Class C), lowering
the dumbbell only halfway (Class D) and throwing the hips to the front (Class
E).</p>

<p class=MsoBodyText>More information is available from the website here: <a
href="http://groupware.les.inf.puc-rio.br/har">http://groupware.les.inf.puc-rio.br/har</a>
(see the section on the Weight Lifting Exercise Dataset).</p>

<p class=MsoBodyText><b><span style='font-size:18.0pt'>Project Scope</span></b></p>

<p class=MsoBodyText>In this project, my goal is to use data from
accelerometers on the belt, forearm, arm, and dumbbell of 6 participants and
accurately predict if they performed correctly or incorrectly based on the &quot;classe&quot;
variable. I will use the Caret, Randon Forest and GMB packages within R.</p>

<p class=MsoBodyText><b><span style='font-size:18.0pt'>Results and Conclusion</span></b></p>

<p class=MsoBodyText>Since this is a classification prediction, I used Random
Forest (RF) for my final model and ran a Generalized Boosted Model (GBM) for
comparison based on my system resources and their ability to address 'empty'
data fields within themselves. Both were run using K-Fold cross validation of 5
(again system resources and time were a factor), which allows repeating the
cross validation function with exactly the same splitting results for each
repetition. I used 70% of the 19,622 observations available for my training
set.</p>

<p class=MsoBodyText>Random Forest produced an average accuracy of 99.06% and
the Generalized Boosted Model had accuracy of 95.77%. I used the RF model
output on the test data of 20 observations and was able to predict with 100%
accuracy. Both produce promising Confusion Matrix's and I found it very
interesting in how the different models top 15 variants of importance differed.
(see Model Runs below)</p>

<p class=MsoBodyText><b><i><u>Package Install and Data Extraction</u></i></b></p>

<p class=MsoBodyText>install.packages(&quot;caret&quot;), library(caret)
require(caret)</p>

<p class=MsoBodyText>install.packages(&quot;randomForest&quot;)
require(randomForest)</p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>testData=</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>read.csv</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;~/pmltesting.csv&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>header =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=OtherTok><span style='font-size:11.0pt'>TRUE</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testData)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1]  20 160</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#[1] 
20 160</span></span><br>
<br>
<span class=CommentTok><span style='font-size:11.0pt'>#clean up useless columns
1-8</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testData&lt;-testData[,-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>1</span></span><span
class=NormalTok><span style='font-size:11.0pt'>:</span></span><span
class=DecValTok><span style='font-size:11.0pt'>8</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)]</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(testData)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1]  20 152</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#20
152</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>trainData=</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>read.csv</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;~/pmltraining.csv&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>header =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=OtherTok><span style='font-size:11.0pt'>TRUE</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>na.strings =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;NA&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;#DIV/0&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>))</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainData)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1] 19622   160</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#[1]
19622   160</span></span></p>

<p class=FirstParagraph><b><i><u>Data Review and Cleaning</u></i></b></p>

<p class=MsoBodyText>In reviewing the data I found multiple variables with
empty data on 19,622 observations. Although there are ways to 'fill in' missing
data I chose to excluded them. I was able to reduce my variants from 160 to 52.
Earlier attempts to used all variables in model selections were overwhelming my
systems capacity. I felt 52 variables to be an acceptable amount based on
classifying 5 types. Had there been 40+ class types, I might have found other
options of addressing the empty data fields.</p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>trainData&lt;-trainData[,-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>c</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>1</span></span><span
class=NormalTok><span style='font-size:11.0pt'>:</span></span><span
class=DecValTok><span style='font-size:11.0pt'>8</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)]</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainData)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1] 19622   152</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#[1]
19622   152</span></span><br>
<span class=CommentTok><span style='font-size:11.0pt'>#NA and open data
cleaning on varialbes</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>trainData&lt;-trainData[, </span></span><span
class=KeywordTok><span style='font-size:11.0pt'>apply</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainData, </span></span><span
class=DecValTok><span style='font-size:11.0pt'>2</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, function (x) !</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>any</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>is.na</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(x)))]</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>dim</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainData)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
[1] 19622    52</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#19622   
52</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(caret)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: lattice</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: ggplot2</span></span></p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>InTrain&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>createDataPartition</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(trainData$classe, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>p=</span></span><span
class=FloatTok><span style='font-size:11.0pt'>0.70</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>list=</span></span><span
class=OtherTok><span style='font-size:11.0pt'>FALSE</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)  </span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>training1&lt;-trainData[InTrain,]</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>testing1=trainData[-InTrain,
]</span></span></p>

<p class=FirstParagraph><b><i><u>Model Runs</u></i></b></p>

<p class=MsoBodyText>I now present a running of the bulls.  After many late
nights on this, I envisioned these trees as more like a &quot;running of the
bulls&quot;, where I was better off getting out of the way and using the model
defaults where possible.</p>

<p class=MsoBodyText><u>Random Forest</u></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(randomForest)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
randomForest 4.6-12</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Type rfNews() to see new features/changes/bug fixes.</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Attaching package:
'randomForest'</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
The following object is masked from 'package:ggplot2':</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     margin</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>set.seed</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>711</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>fitControl&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>trainControl</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;cv&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>number=</span></span><span
class=DecValTok><span style='font-size:11.0pt'>5</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>allowParallel=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>T, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>verbose=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>T, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>classProbs =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> T)</span></span><br>
<span class=NormalTok><span style='font-size:11.0pt'>RFfit&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>train</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(classe~.,</span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>data=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>training1, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;rf&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>trControl=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>fitControl, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>verbose=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>F)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
+ Fold1: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold1: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold1: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5: mtry= 2 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5: mtry=26 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5: mtry=51 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Aggregating results</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Selecting tuning
parameters</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Fitting mtry = 26 on
full training set</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(RFfit)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Random Forest </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## 13737 samples</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##    51 predictor</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     5 classes: 'A',
'B', 'C', 'D', 'E' </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## No pre-processing</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Resampling:
Cross-Validated (5 fold) </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Summary of sample
sizes: 10990, 10989, 10991, 10989, 10989 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Resampling results
across tuning parameters:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   mtry  Accuracy  
Kappa    </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##    2    0.9900277 
0.9873830</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   26    0.9906097 
0.9881189</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   51    0.9836216 
0.9792768</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Accuracy was used to
select the optimal model using  the largest value.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## The final value used
for the model was mtry = 26.</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(RFfit$finalModel)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Call:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  randomForest(x = x,
y = y, mtry = param$mtry, verbose = ..1) </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                Type
of random forest: classification</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                     
Number of trees: 500</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## No. of variables
tried at each split: 26</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##         OOB estimate
of  error rate: 0.66%</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Confusion matrix:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##      A    B    C   
D    E class.error</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## A 3900    4    1   
0    1 0.001536098</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## B   19 2630    7   
1    1 0.010534236</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## C    0   13 2376   
7    0 0.008347245</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## D    0    0   24
2224    4 0.012433393</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## E    0    0    3   
6 2516 0.003564356</span></span></p>

<p class=FirstParagraph><img border=0 width=484 height=388
src="Human_Activity_Recognition_Predictive_Model_files/image001.png"></p>

<p class=MsoBodyText>Test results using RF as final model.</p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>predRF&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>predict</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(RFfit, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>newdata=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>testData)</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(predRF)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>#
[1] B A B A A E D B A A B C B A E E A B B B (RF output)</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'># Levels: A B C D E</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'># [1]
B A B A A E D B A A B C B A E E A B B B (correct)</span></span><br>
<span class=CommentTok><span style='font-size:11.0pt'>#Levels: A B C D E</span></span></p>

<p class=FirstParagraph><u>Generalized Boosted Model</u></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>library</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(gbm)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: survival</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Attaching package: 'survival'</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
The following object is masked from 'package:caret':</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     cluster</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: splines</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: parallel</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loaded gbm 2.1.1</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>set.seed</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=DecValTok><span style='font-size:11.0pt'>711</span></span><span
class=NormalTok><span style='font-size:11.0pt'>)</span></span><br>
<br>
<span class=NormalTok><span style='font-size:11.0pt'>GBMfit&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>train</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(classe~., </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>data=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>training1, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>method=</span></span><span
class=StringTok><span style='font-size:11.0pt'>&quot;gbm&quot;</span></span><span
class=NormalTok><span style='font-size:11.0pt'>, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>trControl=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>fitControl, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>verbose=</span></span><span
class=NormalTok><span style='font-size:11.0pt'>F)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Loading required package: plyr</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
+ Fold1: shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold1:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold1:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold1:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold2:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold2:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3: shrinkage=0.1,
interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold3:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold3:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold4:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold4:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5:
shrinkage=0.1, interaction.depth=1, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5:
shrinkage=0.1, interaction.depth=2, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## + Fold5:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## - Fold5:
shrinkage=0.1, interaction.depth=3, n.minobsinnode=10, n.trees=150 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Aggregating results</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Selecting tuning
parameters</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Fitting n.trees =
150, interaction.depth = 3, shrinkage = 0.1, n.minobsinnode = 10 on full
training set</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(GBMfit)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Stochastic Gradient Boosting </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## 13737 samples</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##    51 predictor</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##     5 classes: 'A',
'B', 'C', 'D', 'E' </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## No pre-processing</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Resampling:
Cross-Validated (5 fold) </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Summary of sample
sizes: 10990, 10989, 10991, 10989, 10989 </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Resampling results
across tuning parameters:</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   interaction.depth 
n.trees  Accuracy   Kappa    </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  
1                   50      0.7421581  0.6731817</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   1                 
100      0.8142987  0.7650333</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   1                 
150      0.8465465  0.8057586</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  
2                   50      0.8529532  0.8137033</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   2                 
100      0.9040551  0.8785607</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   2                 
150      0.9292420  0.9104605</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   3                   50     
0.8913893  0.8625083</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   3                 
100      0.9393617  0.9232609</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##   3                 
150      0.9577061  0.9464855</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Tuning parameter
'shrinkage' was held constant at a value of 0.1</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Tuning parameter
'n.minobsinnode' was held constant at a value of 10</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Accuracy was used to
select the optimal model using  the largest value.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## The final values
used for the model were n.trees = 150,</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  interaction.depth =
3, shrinkage = 0.1 and n.minobsinnode = 10.</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(GBMfit$finalModel)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
A gradient boosted model with multinomial loss function.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## 150 iterations were
performed.</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## There were 51
predictors of which 43 had non-zero influence.</span></span></p>

<p class=SourceCode><span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>confusionMatrix</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(GBMfit))</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>##
Cross-Validated (5 fold) Confusion Matrix </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## (entries are
percentual average cell counts across resamples)</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  </span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##           Reference</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Prediction    A   
B    C    D    E</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          A 28.0 
0.7  0.0  0.0  0.0</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          B  0.3
18.0  0.6  0.1  0.2</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          C  0.1  0.6
16.6  0.6  0.2</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          D  0.0 
0.0  0.2 15.6  0.2</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##          E  0.0 
0.1  0.0  0.1 17.7</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##                            
</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>##  Accuracy (average)
: 0.9577</span></span></p>

<p class=FirstParagraph><img border=0 width=484 height=388 id=Picture
src="Human_Activity_Recognition_Predictive_Model_files/image002.png"></p>

<p class=SourceCode><span class=NormalTok><span style='font-size:11.0pt'>predGBM&lt;-</span></span><span
class=KeywordTok><span style='font-size:11.0pt'>predict</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(GBMfit, </span></span><span
class=DataTypeTok><span style='font-size:11.0pt'>newdata =</span></span><span
class=NormalTok><span style='font-size:11.0pt'> testData)</span></span><br>
<span class=KeywordTok><span style='font-size:11.0pt'>print</span></span><span
class=NormalTok><span style='font-size:11.0pt'>(predGBM)</span></span></p>

<p class=SourceCode><span class=VerbatimChar><span style='font-size:11.0pt'>#[1]
B A B A A E D B A A <b><u>B</u></b> C B A E E A B B B (GBM output)</span></span><br>
<span class=VerbatimChar><span style='font-size:11.0pt'>## Levels: A B C D E</span></span></p>

<p class=SourceCode><span class=CommentTok><span style='font-size:11.0pt'>#[1]
B A B A A E D B A A <b><u>C</u></b> C B A E E A B B B (correct)</span></span><br>
<span class=CommentTok><span style='font-size:11.0pt'>#Levels: A B C D E</span></span></p>

<p class=FirstParagraph><b><i><u>Conclusion</u></i></b></p>

<p class=MsoBodyText>In conclusion, the RF model produced an OOB estimate of
error rate at 0.66% on a sample size of ~10,989 out of possible 13,737
observations using 500 trees with 2 variables at each split and cross validated
resampling of 5 fold. The final model value of mtry = 2 resulted in a 99.06%
accuracy and 98.81% kappa. When tested against the testing model, 100% accuracy
was obtained.</p>

<p class=MsoBodyText>The GBM model held the shrinkage tuning parameter constant
at 0.1 and the n.nimodsinnode at 10. The final model values used were ntrees =
150, an interaction depth = 3 which produced an average accuracy of 95.77% and
a kappa of 94.64%. The GBM final model produce similar results on the test
data, with the exception of observation 11 where RF returned a value of B and
GBM returned a value of C. Overall the GBM is a acceptable tool missing 1 out
of 20 for a 5% error rate.</p>

<p class=MsoBodyText>In running these models numerous times, I've found that
almost always the resulting testing outputs to be exactly the same. I also
found it interesting reviewing the different models variances of importance and
how they differ. My overall findings and growth from performing this excercise
had helped me grow from further develeopment of using the Applied Predictive
Modeling book in PDF form, which was recommended during course lectures. I
highly recommend it to everyone. The PDF version allowed for quicker subject
searches and cross referencing. The <a
href="http://topepo.github.io/caret/index.html">http://topepo.github.io/caret/index.html</a>
recommended in lecture was a good resourse. Also, I encountered system
constraints during this process and found using ReadyBoost in windows 7 as a
valuable and cheap approach to increasing my cache size related to my operating
system. It is cheap and uses usb drive flash memory, which everyone should
have. Note this my not be available if you are working off a hard disc.</p>

</div>

</body>

</html>
